<!DOCTYPE html>
<html xmlns:th = "http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>ToDo一覧</title>
</head>
<body>
	<h1>ToDo一覧</h1>
	
	<span th:replace = "greetingSpan"></span>
	
	<br>
	
	<form action = "/taskList" method = "get">
		<table border = "1">
			<tr>
				<th>検索</th>
				<th>並び替え</th>
				<th></th>
			</tr>
			<tr>	
					<td>
						<select name = "categoryId">
								<option value = "0">全表示</option>
								<option  
									th:each = "category : ${categories}" 
									th:text = "${category.name}" 
									th:value = "${category.id}">
								</option>
						</select>
					</td>
					
					<td>
						<input type = "checkbox" name = "sort" value = "deadline">期日
						<input type = "checkbox" name = "sort" value = "categories"> カテゴリー
					</td>
					
					<td>
						<button>実行</button>
					</td>
			</tr>
		</table>
		
	</form>

	
	<a href = "/category">カテゴリー管理</a>
	
	<form action = "/taskList/add" method = "get">
		<button>新規登録</button>
	</form>

	<table border = "1">
		<tr>
			<th>No</th>
			<th>ToDo一覧</th>
			<th>カテゴリー</th>
			<th>期日</th>
<!--			<th>更新</th>-->
			<th>完了</th>
		</tr>
		
		<tr th:each = "t, start : ${tasks}">
			<td th:text = "${start.count}"></td>
<!--			<td th:text = "${t.task}"></td>-->
			<td>
				<a th:href = "'/taskList/' + ${t.id} + '/edit'" th:text = "${t.task}"></a>
			</td>
			
			<td th:text = "${t.categoryName}"></td>
		
			<td th:text = "${t.deadline}"></td>
			
<!--			<td>-->
<!--				<form th:action = "'/taskList/' + ${t.id} + '/edit'" method = "get">-->
<!--					<button>更新</button>-->
<!--				</form>-->
<!--			</td>-->
			
			<td>
				<form th:action = "'/taskList/' + ${t.id} + '/delete'" method = "post">
					<button>完了</button>
				</form>
			</td>		
		</tr>
		
	</table>
	
	

</body>
</html>




